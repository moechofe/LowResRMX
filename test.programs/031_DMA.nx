POKE $9000,123
POKE $9001,234

POKEW $FFA0,$9000
POKEW $FFA2,2
POKEW $FFA4,$A000

SUB TEST1
DMA COPY
END SUB

ON VBL CALL TEST1
WAIT VBL
ON VBL OFF

IF PEEK($A000)=123 AND PEEK($A001)=234 THEN
PRINT "SUCCESS"
ELSE
PRINT "FAILURE"
END IF

POKEW $FFA0,ROM(5)
POKEW $FFA2,2
POKEW $FFA4,$A000

SUB TEST2
DMA COPY ROM
END SUB

ON VBL CALL TEST2
WAIT VBL
ON VBL OFF

IF HEX$(PEEK($A000))="47" AND HEX$(PEEK($A001))="41" THEN
PRINT "SUCCESS"
ELSE
PRINT "FAILURE"
END IF

#5: TEST
4741
